(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e){e.exports={MaterialItems:[{id:0,title:"coal",amount:1,value:500},{id:1,title:"iron orc",amount:1,value:180}],ProductItems:[{id:0,title:"steel bar",minLv:40,minPr:.4,maxLv:100,maxPr:1,value:960,exp:30}],calresult:{}}},32:function(e,t,n){e.exports=n(51)},41:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(27),u=n(8),c=n(4),o=n(9);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(12),m=n(13),E={ADD_PRODUCTITEM:"ADD_PRODUCTITEM",ADD_MATERIALITEM:"ADD_MATERIALITEM",REMOVE_ITEM:"REMOVE_ITEM",CALCULATION_RESULT:"CALCULATION_RESULT",CLEAR_RESULT:"CLEAR_RESULT"},d=function(e){for(var t=1,n=1;n<e;n++)t*=1.11;return e<=1?0:Math.round(5e3*(t-1)/11)},v=function(e,t){return d(t)-d(e)},p=function(e,t){return e.minPr===e.maxPr?e.maxPr:e.maxLv<=t?e.maxPr:e.minLv>t?0:e.minLv<=t?e.minPr+.01*(t-e.minLv):void 0},f=function(e,t){for(var n=new Array(e.length),a=1,l=0,r=e.length;l<r;l++){var u=p(e[l],t);n[l]=u*a,a*=1-u}return n},s=function(e,t){for(var n=0,a=f(e,t),l=0,r=a.length;l<r;l++)n+=a[l]*e[l].exp;return n},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_PRODUCTITEM:return{id:t.id,title:t.title,minLv:t.minLv,minPr:t.minPr/100,maxLv:parseInt(t.maxPr,10)-parseInt(t.minPr,10)+parseInt(t.minLv,10),maxPr:t.maxPr/100,value:t.value,exp:t.exp};default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_PRODUCTITEM:return[].concat(Object(m.a)(e),[g({},t)]);case E.REMOVE_ITEM:return e.filter(function(e){return e.id!==t.id});default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_MATERIALITEM:return{id:t.id,title:t.title,amount:t.amount,value:t.value};default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_MATERIALITEM:return[].concat(Object(m.a)(e),[b({},t)]);case E.REMOVE_ITEM:return e.filter(function(e){return e.id!==t.id});default:return e}},I=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case E.CALCULATION_RESULT:var a=n.productitems,l=n.materialitems,r=function(e,t,n,a){for(var l=0,r=t,u=n;u<a;u++){var c=s(e,u);if(c>0){var o=Math.ceil(r/c);l+=o,r-=o*c}else l+=0,r=0;r+=v(u+1,u+2)}return l}(a,n.nextexp,n.nowlevel,n.targetlevel),u=function(e,t,n,a){for(var l=Array(e.length).fill(0),r=parseInt(t,10),u=n;u<a;u++){var c=f(e,u),o=s(e,u);if(o>0){for(var i=Math.ceil(r/o),m=0,E=e.length;m<E;m++)l[m]+=i*c[m];r-=i*o}else{for(var d=0,p=e.length;d<p;d++)l[d]+=0;r=0}r+=v(u+1,u+2)}return l}(a,n.nextexp,n.nowlevel,n.targetlevel),c=l.map(function(e){return e.amount}),o=(e=r,c.map(function(t){return t*e}));return{productNames:a.map(function(e){return e.title}),materialNames:l.map(function(e){return e.title}),productValues:a.map(function(e){return e.value}),materialValues:l.map(function(e){return e.value}),needAmounts:c,totalAmount:r,productAmounts:u,materialAmounts:o};case E.CLEAR_RESULT:return{};default:return t}},x=n(29),y=function(e){return function(t){return function(n){var a;return console.groupCollapsed("dispatching",n.type),console.log("prev state",e.getState()),console.log("action",n),a=t(n),console.log("next state",e.getState()),console.groupEnd(),a}}},P=function(e){return function(t){return function(n){var a=t(n);return localStorage["redux-store"]=JSON.stringify(e.getState()),a}}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x;return Object(i.a)(y,P)(i.d)(Object(i.c)({MaterialItems:C,ProductItems:h,Calresult:I}),localStorage["redux-store"]?JSON.parse(localStorage["redux-store"]):e)},M=(n(16),n(52)),A=n(53),T=n(54),w=(n(41),{backgroundColor:"white",color:"slategray"}),D=function(e){var t=e.children;return l.a.createElement(M.a,{style:{margin:0}},l.a.createElement(A.a,null,l.a.createElement(T.a,{lg:2},l.a.createElement(R,null)),l.a.createElement(T.a,{lg:10},t)))},R=function(){return l.a.createElement("nav",{className:"main-menu"},l.a.createElement(c.b,{to:"/"},"[Home Page]"),l.a.createElement(c.b,{to:"/Combat",activeStyle:w},"[Combat Page]"),l.a.createElement(c.b,{to:"/Gathering",activeStyle:w},"[Gathering Page]"),l.a.createElement(c.b,{to:"/Crafting",activeStyle:w},"[Crafting Page]"),l.a.createElement(c.b,{to:"/Calculation",activeStyle:w},"[Calculation]"))},N={backgroundColor:"white",color:"slategray"},O=function(){return l.a.createElement("nav",{className:"main-menu"},l.a.createElement(c.b,{to:"/"},"[Home Page]"),l.a.createElement(c.b,{to:"/Combat",activeStyle:N},"[Combat Page]"),l.a.createElement(c.b,{to:"/Gathering",activeStyle:N},"[Gathering Page]"),l.a.createElement(c.b,{to:"/Crafting",activeStyle:N},"[Crafting Page]"),l.a.createElement(c.b,{to:"/Calculation",activeStyle:N},"[Calculation]"))},S=function(e){var t,n,a,r,u,c,o=e.onNewItem,i=void 0===o?function(e){return e}:o;return l.a.createElement("form",{className:"add-Item",onSubmit:function(e){e.preventDefault(),i(t.value,n.value,a.value,r.value,u.value,c.value),t.value="",n.value="",a.value="",r.value="",u.value="",c.value="",e.preventDefault()}},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Item Name"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return t=e},type:"text",placeholder:"Item Name",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Min Level"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return n=e},type:"number",placeholder:"Min Level",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Min Pro"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return a=e},type:"number",placeholder:"Min Pro",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Max Pro"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return r=e},type:"number",placeholder:"Max Pro",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Value"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return u=e},type:"number",placeholder:"Value",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Exp"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return c=e},type:"number",placeholder:"Exp",required:!0}))))),l.a.createElement("button",null,"ADD"))},_=function(e){var t,n,a,r=e.onNewItem,u=void 0===r?function(e){return e}:r;return l.a.createElement("form",{className:"add-Item",onSubmit:function(e){e.preventDefault(),u(t.value,n.value,a.value),t.value="",n.value="",a.value="",e.preventDefault()}},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Item Name"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return t=e},type:"text",placeholder:"Item Name",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Demand"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return n=e},type:"number",placeholder:"Demand",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Value"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return a=e},type:"number",placeholder:"Value",required:!0}))))),l.a.createElement("button",null,"ADD"))},j=function(e){var t=e.title,n=e.minLv,a=e.minPr,r=e.maxLv,u=e.maxPr,c=e.value,o=e.exp,i=e.onRemove,m=void 0===i?function(e){return e}:i;return l.a.createElement("section",{className:"item"},l.a.createElement("h1",null,t),l.a.createElement("button",{onClick:m},"X"),l.a.createElement("p",null,"Min Level:",n,"\uff0cMin Pro:",a),l.a.createElement("p",null,"Max Level:",r,"\uff0cMax Pro:",u),l.a.createElement("p",null,"Value:",c,"\uff0cExp:",o))},U=function(e){var t=e.items,n=void 0===t?[]:t,a=e.onRemove,r=void 0===a?function(e){return e}:a;return l.a.createElement("div",{className:"Item-list"},0===n.length?l.a.createElement("p",null,"No Items"):n.map(function(e){return l.a.createElement(j,Object.assign({key:e.id},e,{onRemove:function(){return r(e.id)}}))}))},V=function(e){var t=e.id,n=e.title,a=e.amount,r=e.value,u=e.onRemove,c=void 0===u?function(e){return e}:u;return l.a.createElement("section",{className:"item"},l.a.createElement("h1",null,"the ",t+1,"-th Material"),l.a.createElement("button",{onClick:c},"X"),l.a.createElement("p",null,"Matherial Name:",n),l.a.createElement("p",null,"Matherial Demand:",a),l.a.createElement("p",null,"Matherial Value:",r))},k=function(e){var t=e.items,n=void 0===t?[]:t,a=e.onRemove,r=void 0===a?function(e){return e}:a;return l.a.createElement("div",{className:"Item-list"},0===n.length?l.a.createElement("p",null,"No Items"):n.map(function(e){return l.a.createElement(V,Object.assign({key:e.id},e,{onRemove:function(){return r(e.id)}}))}))},q=function(e){var t=e.calresult,n=void 0===t?{}:t,a=e.onclearResult,r=void 0===a?function(e){return e}:a,u=n.productNames,c=n.materialNames,o=n.productValues,i=n.materialValues,m=n.needAmounts,E=n.totalAmount,d=n.productAmounts,v=n.materialAmounts;return Object.keys(n)<=0?l.a.createElement("p",null):l.a.createElement("section",{className:"item"},l.a.createElement("p",null,"Production Order:",u.join(" => ")),l.a.createElement("p",null,"Formula:",c.map(function(e,t){return"".concat(e," need ").concat(m[t]," ")}).join(", ")),l.a.createElement("p",null,"Total Production Times:",E),l.a.createElement("p",null,"Production List:",u.map(function(e,t){return"".concat(e," produce ").concat(d[t]," piece with ").concat(o[t]*d[t]," Coins")}).join(", ")),l.a.createElement("p",null,"Material List:",c.map(function(e,t){return"".concat(e," need ").concat(v[t]," piece with ").concat(i[t]*v[t]," Coins")}).join(", ")),l.a.createElement("button",{onClick:r},"Clear"))},G=function(e){var t,n,a,r=e.onCalculation,u=void 0===r?function(e){return e}:r;return l.a.createElement("form",{className:"add-Item",onSubmit:function(e){e.preventDefault(),u(t.value,n.value,a.value),e.preventDefault()}},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Now Level"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return t=e},type:"number",placeholder:"Target Level",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Target Level"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return n=e},type:"number",placeholder:"Target Level",required:!0}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Next Exp"),l.a.createElement("td",null,l.a.createElement("input",{ref:function(e){return a=e},type:"number",placeholder:"Next Exp",required:!0}))))),l.a.createElement("button",null,"Calculate"))},B=n(21),H=function(e){return{type:E.REMOVE_ITEM,id:e}},J=Object(u.b)(null,function(e){return{onNewItem:function(t,n,a){e(function(e,t,n){return{type:E.ADD_MATERIALITEM,id:Object(B.v4)(),title:e,amount:t,value:n,timestamp:(new Date).toString()}}(t,n,a))}}})(_),W=Object(u.b)(null,function(e){return{onNewItem:function(t,n,a,l,r,u){e(function(e,t,n,a,l,r){return{type:E.ADD_PRODUCTITEM,id:Object(B.v4)(),title:e,minLv:t,minPr:n,maxLv:parseInt(a,10)-parseInt(n,10)+parseInt(t,10),maxPr:a/100,value:l,exp:r,timestamp:(new Date).toString()}}(t,n,a,l,r,u))}}})(S),X=Object(u.b)(function(e){return{items:Object(m.a)(e.MaterialItems)}},function(e){return{onRemove:function(t){e(H(t))}}})(k),F=Object(u.b)(function(e){return{items:Object(m.a)(e.ProductItems)}},function(e){return{onRemove:function(t){e(H(t))}}})(U),$=Object(u.b)(null,function(e){return{onCalculation:function(t,n,a){e(function(e,t,n,a,l){return{type:E.CALCULATION_RESULT,MaterialItems:e,ProductItems:t,nowlevel:n,targetlevel:a,nextexp:l}}(t,n,a))}}})(G),z=Object(u.b)(function(e){return{calresult:e.calresult}},function(e){return{onclearResult:function(){e({type:E.CLEAR_RESULT})}}})(q),K=(n(49),function(){return l.a.createElement(M.a,null,l.a.createElement(A.a,null,l.a.createElement(T.a,{lg:6},l.a.createElement(A.a,null,l.a.createElement(J,null)),l.a.createElement(A.a,null,l.a.createElement(W,null)),l.a.createElement(A.a,null,l.a.createElement($,null)),l.a.createElement(A.a,null,l.a.createElement(z,null))),l.a.createElement(T.a,{lg:3},l.a.createElement("p",null,"Material"),l.a.createElement(X,null)),l.a.createElement(T.a,{lg:3},l.a.createElement("p",null,"Production"),l.a.createElement(F,null))))}),Q=(n(50),{backgroundColor:"white",color:"slategray"}),Y=function(e){var t=e.match;return l.a.createElement("div",{className:"Top-menu"},l.a.createElement("li",null,l.a.createElement(c.b,{to:"/Calculation",style:t.isExact&&Q},"[Info]")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/Calculation/Exp",activeStyle:Q},"[Exp]")),l.a.createElement("li",null,l.a.createElement(c.b,{to:"/Calculation/Production",activeStyle:Q},"[Production]")))},Z=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Select what you want to caculate from top-menu"))},ee=function(){return l.a.createElement("div",null,l.a.createElement("p",null,"Here you can caculate Exp from some level to target level."),l.a.createElement("p",null,"But Building..."))},te=L();window.React=l.a,window.store=te,Object(r.render)(l.a.createElement(u.a,{store:te},l.a.createElement(c.a,null,l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:function(){return l.a.createElement(D,null,l.a.createElement("h1",null,"Home Page"))}}),l.a.createElement(o.a,{path:"/Combat",component:function(){return l.a.createElement(D,null,l.a.createElement(M.a,null,l.a.createElement(A.a,null,l.a.createElement("p",null,"TopCombat Page")),l.a.createElement(A.a,null,l.a.createElement(T.a,null,"Content1"),l.a.createElement(T.a,null,"Content2"),l.a.createElement(T.a,null,"Content3"))))}}),l.a.createElement(o.a,{path:"/Crafting",component:function(){return l.a.createElement(D,null,l.a.createElement("h1",null,"Crafting Page"))}}),l.a.createElement(o.a,{path:"/Gathering",component:function(){return l.a.createElement(D,null,l.a.createElement("h1",null,"Gathering Page"))}}),l.a.createElement(o.a,{path:"/Calculation",component:function(e){var t=e.match;return l.a.createElement(M.a,{style:{margin:0}},l.a.createElement(A.a,null,l.a.createElement(T.a,{lg:2},l.a.createElement(O,null)),l.a.createElement(T.a,{lg:10},l.a.createElement(A.a,null,l.a.createElement(Y,{match:t})),l.a.createElement(A.a,null,l.a.createElement(o.a,{exact:!0,path:"/Calculation",component:Z}),l.a.createElement(o.a,{path:"/Calculation/Exp",component:ee}),l.a.createElement(o.a,{path:"/Calculation/Production",component:K})))))}}),l.a.createElement(o.a,{component:function(e){var t=e.location;return l.a.createElement("div",{className:"whoops-404"},l.a.createElement("hi",null,"we can not find '",t.pathname,"' Page."))}})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[32,1,2]]]);
//# sourceMappingURL=main.3b1545ad.chunk.js.map